# Reflection on how to generate paths
In this project, our goal is to generate and pass ideal waypoints to the simulator through next_x_vals and next_y_vals. There are basicly 3 points we would like to focus on. 

### Get our car running smoothly
From line 344 to 434, this is the part working on running smoothly within the lane. It is mainly achieved by taking advantage of the spline library. First we need to generate some anchor points to fit and generate a spline. Then we use that spline and pick some points from that spline to use as the waypoints. Also I want to keep track of the state of my car when generating the spline which can be either the car's state or the previous waypoints's endpoint. If the car is at the very beginning, no waypoints has been generated yet so I just use the car' current position as one of the anchor points. If there have some previous waypionts that haven't been eaten up, I would use the last two waypoints as part of the anchor points. Then I generate three more anchor points which are sparsely spaced by using the getXY function. When I get all the anchor points, I generate the spline simply using the spline library. Then I just suppose the car would go 30 meters in the x direction, in order to get the car running within the speed limit, the number of waypoints within that 30 meters need to be set as it takes the car 0.02 seconds to go from one point to another. As a result, I get the intervals between each points. In this project, I just generate 50 waypoints for the car to follow which might be suitable taking into account the sudden change of environment. 

### Get our car running safely
From line 255 to 342, this is the part working on running safely. By using the data of sensor fusion the project have provided for us, I could have the state of all others on the same side. First of all, I would loop through the data and find those cars right in front of my car within a certain distance(like 20 meters), in that case, I suppose my car might be too close to that car and it's necessary to slow down and even change lanes when it is safe enough (line 276 to 284). Also I would chaeck those cars in the adjacent lane which I might get my car change to. If those cars are within a certain range of the longitudinal displacement, it might not be safe for my car to change lane. In this case, let's say if my car stay in its original lane and when it come to the last waypoints, the car in the adjacent lane is less than 20 meters ahead of mine or is less than 10 meters behind mine, there might be a risk to change lane(line 285 to 306). If no car is within the range, it might be safe enough for my car to change lane (line 309 to 338). 

### Get our car having a cold start
When I mean cold start here, I simply add those lines from 339 to 342, which on the other hand can avoid jerk at any time when my car speed up. 
